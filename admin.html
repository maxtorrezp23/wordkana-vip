<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Admin - Workana Mercado Libre</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo">üîê Panel Admin - Wordkana</h1>
            <div class="user-info">
                <span class="admin-badge">üëë Administrador</span>
                <button class="btn-logout" id="logoutBtn">Cerrar Sesi√≥n</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-info">
                    <h3>Total Usuarios</h3>
                    <p class="stat-number" id="totalUsers">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-info">
                    <h3>Saldo Total</h3>
                    <p class="stat-number" id="totalBalance">0 Bs</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-info">
                    <h3>Ganancias Totales</h3>
                    <p class="stat-number" id="totalEarnings">0 Bs</p>
                </div>
            </div>
        </div>

        <div class="users-section">
            <h2>Gesti√≥n de Usuarios</h2>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç Buscar usuario por nombre o tel√©fono...">
            </div>
            <div class="users-table">
                <table id="usersTable">
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Tel√©fono</th>
                            <th>Saldo</th>
                            <th>Ganancias</th>
                            <th>VIP</th>
                            <th>Fecha Registro</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Los usuarios se cargar√°n aqu√≠ -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="history-section">
            <h2>üìú Historial de Transacciones</h2>
            <div class="filter-buttons">
                <button class="btn-filter active" data-filter="all">Todas</button>
                <button class="btn-filter" data-filter="deposit">Cargas de Saldo</button>
                <button class="btn-filter" data-filter="withdrawal">Retiros de Ganancias</button>
            </div>
            <div class="history-table">
                <table id="historyTable">
                    <thead>
                        <tr>
                            <th>Fecha y Hora</th>
                            <th>Tipo</th>
                            <th>Usuario</th>
                            <th>Monto</th>
                            <th>Admin</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <!-- El historial se cargar√° aqu√≠ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal para agregar saldo -->
    <div id="addBalanceModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üíµ Agregar Saldo</h2>
            <p>Usuario: <strong id="modalUserName"></strong></p>
            <p>Saldo actual: <strong id="modalCurrentBalance"></strong></p>
            <div class="form-group">
                <label for="amountToAdd">Cantidad a agregar (Bs):</label>
                <input type="number" id="amountToAdd" min="1" step="0.01" placeholder="Ingresa la cantidad">
            </div>
            <button class="btn-primary" id="confirmAddBalance">Agregar Saldo</button>
        </div>
    </div>

    <!-- Modal para retirar ganancias -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üí∏ Retirar Ganancias</h2>
            <p>Usuario: <strong id="modalUserNameWithdraw"></strong></p>
            <p>Ganancias actuales: <strong id="modalCurrentEarnings"></strong></p>
            <div class="form-group">
                <label for="amountToWithdraw">Cantidad a retirar (Bs):</label>
                <input type="number" id="amountToWithdraw" min="0.01" step="0.01" placeholder="Ingresa la cantidad">
            </div>
            <button class="btn-primary" id="confirmWithdraw">Retirar Ganancias</button>
        </div>
    </div>

    <!-- Modal para cambiar VIP -->
    <div id="vipModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeVipModal">&times;</span>
            <h2>üéñÔ∏è Cambiar Nivel VIP</h2>
            <p>Usuario: <strong id="modalUserNameVip"></strong></p>
            <p>VIP actual: <strong id="modalCurrentVip"></strong></p>
            <div class="form-group">
                <label for="newVipLevel">Nuevo nivel VIP (1-10):</label>
                <select id="newVipLevel" class="select-vip">
                    <option value="1">VIP 1</option>
                    <option value="2">VIP 2</option>
                    <option value="3">VIP 3</option>
                    <option value="4">VIP 4</option>
                    <option value="5">VIP 5</option>
                    <option value="6">VIP 6</option>
                    <option value="7">VIP 7</option>
                    <option value="8">VIP 8</option>
                    <option value="9">VIP 9</option>
                    <option value="10">VIP 10</option>
                </select>
            </div>
            <button class="btn-primary" id="confirmVipChange">Cambiar VIP</button>
        </div>
    </div>

    <!-- Modal para editar precios de productos -->
    <div id="productsModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close" id="closeProductsModal">&times;</span>
            <h2>üí∞ Editar Precios de Productos</h2>
            <p>Usuario: <strong id="modalUserNameProducts"></strong></p>
            <p>VIP: <strong id="modalUserVipProducts"></strong></p>
            <div class="products-list" id="productsList">
                <!-- Los productos se cargar√°n aqu√≠ -->
            </div>
            <button class="btn-primary" id="saveProductPrices">Guardar Cambios</button>
        </div>
    </div>

    <script src="api.js?v=3"></script>
    <script src="admin.js?v=3"></script>
</body>
</html>
